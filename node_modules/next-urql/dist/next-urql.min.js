var e=require("react"),n=require("react-ssr-prepass"),t=require("urql");function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var i=r(e),a=r(n);function o(){return(o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var u,l=null;function s(){l=null}function c(e,n){var r="undefined"==typeof window;return!r&&l||((l=t.createClient(o({},e,{suspense:n&&(r||e.suspense)}))).toJSON=function(){return null}),l}exports.initUrqlClient=c,exports.withUrqlClient=function(n,r){return r||(r={}),function(l){var p=Boolean((l.getInitialProps||r.ssr)&&!r.neverSuspend),f=function(r){var a=r.pageProps,f=r.urqlClient,h=r.urqlState,d=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&-1===n.indexOf(r)&&(t[r]=e[r]);return t}(r,["pageProps","urqlClient","urqlState"]),v=e.useState(0),g=a&&a.urqlState||h,q=i.useMemo((function(){if(f)return f;u&&"undefined"!=typeof window?u&&"undefined"!=typeof window&&u.restoreData(g):u=t.ssrExchange({initialState:g,isClient:!0});var e=n(u);return e.exchanges||(e.exchanges=[t.dedupExchange,t.cacheExchange,u,t.fetchExchange]),c(e,p)}),[f,g,v[0]]);return e.createElement(t.Provider,{value:q},e.createElement(l,o({},d,{pageProps:a,urqlClient:q,resetUrqlClient:function(){s(),u=t.ssrExchange({initialState:void 0}),v[1](v[0]+1)}})))};return f.displayName="withUrqlClient("+(l.displayName||l.name||"Component")+")",(l.getInitialProps||r.ssr)&&(f.getInitialProps=function(i){try{function u(){function n(){return o({},g,{urqlState:h?h.extractData():void 0,urqlClient:v})}if("undefined"!=typeof window)return o({},g,{urqlClient:v});var t=o({},g,{urqlClient:v}),i=p?t:{pageProps:t};const u=function(){if(!r.neverSuspend)return Promise.resolve(a(e.createElement(s,i))).then((function(){}))}();return u&&u.then?u.then(n):n()}var s=i.AppTree,p=!!i.Component,f=p?i.ctx:i,h=t.ssrExchange({initialState:void 0}),d=n(h,f);d.exchanges||(d.exchanges=[t.dedupExchange,t.cacheExchange,h,t.fetchExchange]);var v=c(d,!r.neverSuspend);v&&(f.urqlClient=v);var g={};const q=function(){if(l.getInitialProps)return Promise.resolve(l.getInitialProps(i)).then((function(e){g=e}))}();return Promise.resolve(q&&q.then?q.then(u):u())}catch(e){return Promise.reject(e)}}),f}};
//# sourceMappingURL=next-urql.min.js.map
