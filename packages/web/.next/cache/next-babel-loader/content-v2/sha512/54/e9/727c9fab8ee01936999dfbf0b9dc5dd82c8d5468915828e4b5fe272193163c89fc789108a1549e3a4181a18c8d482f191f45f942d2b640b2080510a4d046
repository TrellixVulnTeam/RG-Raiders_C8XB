{"ast":null,"code":"import gql from 'fake-tag';\nimport { client } from 'graphql/client';\nimport { PlayerSkillFragment } from './fragments';\nconst skillsQuery = gql`\n  query GetSkills {\n    skill(\n      order_by: { Player_Skills_aggregate: { count: desc }, category: asc }\n    ) {\n      ...PlayerSkillFragment\n    }\n  }\n  ${PlayerSkillFragment}\n`;\nexport const getSkills = async () => {\n  const {\n    data,\n    error\n  } = await client.query(skillsQuery).toPromise();\n\n  if (!data) {\n    if (error) {\n      throw error;\n    }\n\n    return [];\n  }\n\n  return data.skill;\n};","map":{"version":3,"sources":["/Users/mark.wagner/Dropbox/projects/TheGame/packages/web/graphql/getSkills.ts"],"names":["gql","client","PlayerSkillFragment","skillsQuery","getSkills","data","error","query","toPromise","skill"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,UAAhB;AAKA,SAASC,MAAT,QAAuB,gBAAvB;AAEA,SAASC,mBAAT,QAAoC,aAApC;AAEA,MAAMC,WAAW,GAAGH,GAAI;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAIE,mBAAoB;AACxB,CATA;AAWA,OAAO,MAAME,SAAS,GAAG,YAAoD;AAC3E,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAkB,MAAML,MAAM,CACjCM,KAD2B,CACLJ,WADK,EAE3BK,SAF2B,EAA9B;;AAIA,MAAI,CAACH,IAAL,EAAW;AACT,QAAIC,KAAJ,EAAW;AACT,YAAMA,KAAN;AACD;;AAED,WAAO,EAAP;AACD;;AAED,SAAOD,IAAI,CAACI,KAAZ;AACD,CAdM","sourcesContent":["import gql from 'fake-tag';\nimport {\n  GetSkillsQuery,\n  PlayerSkillFragmentFragment,\n} from 'graphql/autogen/types';\nimport { client } from 'graphql/client';\n\nimport { PlayerSkillFragment } from './fragments';\n\nconst skillsQuery = gql`\n  query GetSkills {\n    skill(\n      order_by: { Player_Skills_aggregate: { count: desc }, category: asc }\n    ) {\n      ...PlayerSkillFragment\n    }\n  }\n  ${PlayerSkillFragment}\n`;\n\nexport const getSkills = async (): Promise<PlayerSkillFragmentFragment[]> => {\n  const { data, error } = await client\n    .query<GetSkillsQuery>(skillsQuery)\n    .toPromise();\n\n  if (!data) {\n    if (error) {\n      throw error;\n    }\n\n    return [];\n  }\n\n  return data.skill;\n};\n"]},"metadata":{},"sourceType":"module"}