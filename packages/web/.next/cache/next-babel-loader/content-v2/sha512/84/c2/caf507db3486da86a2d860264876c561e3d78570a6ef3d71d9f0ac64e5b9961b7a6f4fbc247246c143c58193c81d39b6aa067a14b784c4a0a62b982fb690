{"ast":null,"code":"var _jsxFileName = \"/Users/mark.wagner/Dropbox/projects/TheGame/packages/web/pages/profile/setup/skills.tsx\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { SetupProfile } from 'components/Setup/SetupProfile';\nimport { SetupSkills } from 'components/Setup/SetupSkills';\nimport { SetupContextProvider } from 'contexts/SetupContext';\nimport { getSkills } from 'graphql/getSkills';\nimport { useUser } from 'lib/hooks';\nimport React, { useState } from 'react';\nimport { parseSkills } from 'utils/skillHelpers';\nexport const getStaticProps = async () => {\n  const skills = await getSkills();\n  const skillChoices = parseSkills(skills);\n  return {\n    props: {\n      skillChoices,\n      hideAppDrawer: true\n    }\n  };\n};\n\nconst SkillsSetup = props => {\n  const {\n    skillChoices\n  } = props;\n  const {\n    0: skills,\n    1: setSkills\n  } = useState([]);\n  const {\n    user\n  } = useUser({\n    redirectTo: '/'\n  });\n\n  if (user !== null && user !== void 0 && user.player) {\n    const {\n      player\n    } = user;\n\n    if (player.Player_Skills && player.Player_Skills.length > 0 && skills.length === 0) {\n      setSkills(player.Player_Skills.map(s => _objectSpread({\n        value: s.Skill.id,\n        label: s.Skill.name\n      }, s.Skill)));\n    }\n  }\n\n  return __jsx(SetupContextProvider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, __jsx(SetupProfile, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, __jsx(SetupSkills, {\n    skillChoices: skillChoices,\n    skills: skills,\n    setSkills: setSkills,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default SkillsSetup;","map":{"version":3,"sources":["/Users/mark.wagner/Dropbox/projects/TheGame/packages/web/pages/profile/setup/skills.tsx"],"names":["SetupProfile","SetupSkills","SetupContextProvider","getSkills","useUser","React","useState","parseSkills","getStaticProps","skills","skillChoices","props","hideAppDrawer","SkillsSetup","setSkills","user","redirectTo","player","Player_Skills","length","map","s","value","Skill","id","label","name"],"mappings":";;;;;;;;;AAAA,SAASA,YAAT,QAA6B,+BAA7B;AACA,SAASC,WAAT,QAA4B,8BAA5B;AACA,SAASC,oBAAT,QAAqC,uBAArC;AACA,SAASC,SAAT,QAA0B,mBAA1B;AACA,SAASC,OAAT,QAAwB,WAAxB;AAEA,OAAOC,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,WAAT,QAAyC,oBAAzC;AAEA,OAAO,MAAMC,cAAc,GAAG,YAAY;AACxC,QAAMC,MAAM,GAAG,MAAMN,SAAS,EAA9B;AACA,QAAMO,YAAY,GAAGH,WAAW,CAACE,MAAD,CAAhC;AAEA,SAAO;AACLE,IAAAA,KAAK,EAAE;AACLD,MAAAA,YADK;AAELE,MAAAA,aAAa,EAAE;AAFV;AADF,GAAP;AAMD,CAVM;;AAcP,MAAMC,WAA4B,GAAIF,KAAD,IAAW;AAC9C,QAAM;AAAED,IAAAA;AAAF,MAAmBC,KAAzB;AACA,QAAM;AAAA,OAACF,MAAD;AAAA,OAASK;AAAT,MAAsBR,QAAQ,CAAqB,EAArB,CAApC;AACA,QAAM;AAAES,IAAAA;AAAF,MAAWX,OAAO,CAAC;AAAEY,IAAAA,UAAU,EAAE;AAAd,GAAD,CAAxB;;AAEA,MAAID,IAAJ,aAAIA,IAAJ,eAAIA,IAAI,CAAEE,MAAV,EAAkB;AAChB,UAAM;AAAEA,MAAAA;AAAF,QAAaF,IAAnB;;AACA,QACEE,MAAM,CAACC,aAAP,IACAD,MAAM,CAACC,aAAP,CAAqBC,MAArB,GAA8B,CAD9B,IAEAV,MAAM,CAACU,MAAP,KAAkB,CAHpB,EAIE;AACAL,MAAAA,SAAS,CACPG,MAAM,CAACC,aAAP,CAAqBE,GAArB,CAA0BC,CAAD;AACvBC,QAAAA,KAAK,EAAED,CAAC,CAACE,KAAF,CAAQC,EADQ;AAEvBC,QAAAA,KAAK,EAAEJ,CAAC,CAACE,KAAF,CAAQG;AAFQ,SAGpBL,CAAC,CAACE,KAHkB,CAAzB,CADO,CAAT;AAOD;AACF;;AAED,SACE,MAAC,oBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,WAAD;AACE,IAAA,YAAY,EAAEb,YADhB;AAEE,IAAA,MAAM,EAAED,MAFV;AAGE,IAAA,SAAS,EAAEK,SAHb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CADF;AAWD,CAjCD;;AAkCA,eAAeD,WAAf","sourcesContent":["import { SetupProfile } from 'components/Setup/SetupProfile';\nimport { SetupSkills } from 'components/Setup/SetupSkills';\nimport { SetupContextProvider } from 'contexts/SetupContext';\nimport { getSkills } from 'graphql/getSkills';\nimport { useUser } from 'lib/hooks';\nimport { InferGetStaticPropsType } from 'next';\nimport React, { useState } from 'react';\nimport { parseSkills, SkillOption } from 'utils/skillHelpers';\n\nexport const getStaticProps = async () => {\n  const skills = await getSkills();\n  const skillChoices = parseSkills(skills);\n\n  return {\n    props: {\n      skillChoices,\n      hideAppDrawer: true,\n    },\n  };\n};\n\ntype Props = InferGetStaticPropsType<typeof getStaticProps>;\n\nconst SkillsSetup: React.FC<Props> = (props) => {\n  const { skillChoices } = props;\n  const [skills, setSkills] = useState<Array<SkillOption>>([]);\n  const { user } = useUser({ redirectTo: '/' });\n\n  if (user?.player) {\n    const { player } = user;\n    if (\n      player.Player_Skills &&\n      player.Player_Skills.length > 0 &&\n      skills.length === 0\n    ) {\n      setSkills(\n        player.Player_Skills.map((s) => ({\n          value: s.Skill.id,\n          label: s.Skill.name,\n          ...s.Skill,\n        })),\n      );\n    }\n  }\n\n  return (\n    <SetupContextProvider>\n      <SetupProfile>\n        <SetupSkills\n          skillChoices={skillChoices}\n          skills={skills}\n          setSkills={setSkills}\n        />\n      </SetupProfile>\n    </SetupContextProvider>\n  );\n};\nexport default SkillsSetup;\n"]},"metadata":{},"sourceType":"module"}