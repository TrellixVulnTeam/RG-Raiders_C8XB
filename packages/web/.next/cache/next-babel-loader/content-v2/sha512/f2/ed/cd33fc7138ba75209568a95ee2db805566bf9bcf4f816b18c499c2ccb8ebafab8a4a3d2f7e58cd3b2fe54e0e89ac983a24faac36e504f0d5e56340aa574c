{"ast":null,"code":"import { useEffect, useState } from 'react';\nexport const useIsSticky = ref => {\n  const {\n    0: isSticky,\n    1: setIsSticky\n  } = useState(false);\n  useEffect(() => {\n    const observer = new IntersectionObserver(([entry]) => setIsSticky(entry.intersectionRatio < 1), {\n      threshold: [1]\n    });\n\n    if (ref.current) {\n      observer.observe(ref.current);\n    }\n\n    return () => {\n      observer.disconnect();\n    };\n  }, [ref]);\n  return isSticky;\n};","map":{"version":3,"sources":["/Users/mark.wagner/Dropbox/projects/TheGame/packages/web/lib/hooks/useIsSticky.tsx"],"names":["useEffect","useState","useIsSticky","ref","isSticky","setIsSticky","observer","IntersectionObserver","entry","intersectionRatio","threshold","current","observe","disconnect"],"mappings":"AAAA,SAAoBA,SAApB,EAA+BC,QAA/B,QAA+C,OAA/C;AAEA,OAAO,MAAMC,WAAW,GAAIC,GAAD,IAA6C;AACtE,QAAM;AAAA,OAACC,QAAD;AAAA,OAAWC;AAAX,MAA0BJ,QAAQ,CAAC,KAAD,CAAxC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMM,QAAQ,GAAG,IAAIC,oBAAJ,CACf,CAAC,CAACC,KAAD,CAAD,KAAaH,WAAW,CAACG,KAAK,CAACC,iBAAN,GAA0B,CAA3B,CADT,EAEf;AAAEC,MAAAA,SAAS,EAAE,CAAC,CAAD;AAAb,KAFe,CAAjB;;AAIA,QAAIP,GAAG,CAACQ,OAAR,EAAiB;AACfL,MAAAA,QAAQ,CAACM,OAAT,CAAiBT,GAAG,CAACQ,OAArB;AACD;;AACD,WAAO,MAAM;AACXL,MAAAA,QAAQ,CAACO,UAAT;AACD,KAFD;AAGD,GAXQ,EAWN,CAACV,GAAD,CAXM,CAAT;AAaA,SAAOC,QAAP;AACD,CAjBM","sourcesContent":["import { RefObject, useEffect, useState } from 'react';\n\nexport const useIsSticky = (ref: RefObject<HTMLDivElement>): boolean => {\n  const [isSticky, setIsSticky] = useState(false);\n\n  useEffect(() => {\n    const observer = new IntersectionObserver(\n      ([entry]) => setIsSticky(entry.intersectionRatio < 1),\n      { threshold: [1] },\n    );\n    if (ref.current) {\n      observer.observe(ref.current);\n    }\n    return () => {\n      observer.disconnect();\n    };\n  }, [ref]);\n\n  return isSticky;\n};\n"]},"metadata":{},"sourceType":"module"}